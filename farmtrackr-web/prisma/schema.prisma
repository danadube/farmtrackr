// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model FarmContact {
  id                 String   @id @default(cuid())
  firstName          String?
  lastName           String?
  farm               String?
  mailingAddress     String?
  city               String?
  state              String?
  zipCode            Int?
  email1             String?
  email2             String?
  phoneNumber1       String?
  phoneNumber2       String?
  phoneNumber3       String?
  phoneNumber4       String?
  phoneNumber5       String?
  phoneNumber6       String?
  siteMailingAddress String?
  siteCity           String?
  siteState          String?
  siteZipCode        Int?
  notes              String?
  dateCreated        DateTime @default(now())
  dateModified       DateTime @updatedAt

  @@map("farm_contacts")
}

model ImportTemplate {
  id           String   @id @default(cuid())
  name         String
  description  String?
  fieldMapping Json // Store field mapping as JSON
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@map("import_templates")
}

model LabelTemplate {
  id          String   @id @default(cuid())
  name        String
  description String?
  template    Json // Store template configuration as JSON
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("label_templates")
}

model Document {
  id          String   @id @default(cuid())
  title       String
  description String?
  content     String? // Store document content as text
  fileUrl     String? // Store file URL if it's a file
  contactId   String? // Optional link to a contact
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("documents")
}

model LetterTemplate {
  id          String   @id @default(cuid())
  name        String
  description String?
  content     String // Template content with variables like {{farm}}, {{contact_name}}
  variables   Json? // Available variables as JSON array
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("letter_templates")
}

enum SignatureType {
  SINCERELY
  BEST_REGARDS
  WARMEST_REGARDS
  THANK_YOU
  RESPECTFULLY
  CUSTOM
}

model Signature {
  id        String        @id @default(cuid())
  name      String // Display name for the signature
  type      SignatureType @default(CUSTOM)
  closing   String // Closing text (e.g., "Sincerely,")
  signature String // Signature line (e.g., "John Doe" or "FarmTrackr Team")
  isDefault Boolean       @default(false)
  createdAt DateTime      @default(now())
  updatedAt DateTime      @updatedAt

  @@map("signatures")
}

model Letterhead {
  id          String   @id @default(cuid())
  name        String   // Display name for the letterhead
  description String?  // Brief description
  headerHtml  String?  // HTML content for header (logo, company name, address)
  headerText  String?  // Plain text alternative for header
  footerHtml  String?  // HTML content for footer (optional)
  footerText  String?  // Plain text alternative for footer
  isDefault   Boolean  @default(false)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("letterheads")
}
